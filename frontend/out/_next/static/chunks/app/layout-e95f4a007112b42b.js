(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{523:function(e,t,a){Promise.resolve().then(a.t.bind(a,2546,23)),Promise.resolve().then(a.t.bind(a,3552,23)),Promise.resolve().then(a.bind(a,332)),Promise.resolve().then(a.bind(a,2697))},332:function(e,t,a){"use strict";a.r(t),a.d(t,{basePath:function(){return d},default:function(){return l},loginPageUri:function(){return o},publicPaths:function(){return c}});var r=a(9268),n=a(6006),s=a(6008),i=a(4949),u=a(7659);let d="/app",o="/auth/login",c=[o,"/auth/register"];function l(e){let{children:t}=e,a=(0,i.C)(e=>e.authSliceReducer.authState),l=(0,i.C)(e=>e.authSliceReducer.initialized),h=(0,i.T)(),p=(0,s.useRouter)(),f=(0,s.usePathname)(),g=(0,s.useSearchParams)(),[m,b]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{l||h((0,u.bV)())}),(0,n.useEffect)(()=>{l&&function(e){let t=f.slice(d.length);a||c.includes(t)?b(!0):(b(!1),p.push(o))}(0)},[f,g,l,a]),l)?m&&t:(0,r.jsx)("div",{children:"Loading..."})}},7659:function(e,t,a){"use strict";a.d(t,{SA:function(){return i},TX:function(){return d},bV:function(){return o},pH:function(){return u}});var r=a(4214),n=a(6393);let s="/api",i=(0,n.createAsyncThunk)("auth/register",async(e,t)=>{let{rejectWithValue:a}=t;try{await r.Z.post("".concat(s,"/auth/v1/register"),e,{headers:{"Content-Type":"application/json"}})}catch(e){if(e.response&&e.response.data.message)return a(e.response.data.message);return a(e.message)}}),u=(0,n.createAsyncThunk)("auth/login",async(e,t)=>{let{rejectWithValue:a}=t;try{await r.Z.post("".concat(s,"/auth/v1/login"),e,{headers:{"Content-Type":"application/json"}})}catch(e){if(e.response&&e.response.data.message)return a(e.response.data.message);return a(e.message)}}),d=(0,n.createAsyncThunk)("auth/logout",async(e,t)=>{let{rejectWithValue:a}=t;try{await r.Z.post("".concat(s,"/auth/v1/logout"),e,{headers:{"Content-Type":"application/json"}})}catch(e){if(e.response&&e.response.data.message)return a(e.response.data.message);return a(e.message)}}),o=(0,n.createAsyncThunk)("auth/check",async(e,t)=>{let{rejectWithValue:a}=t;try{await r.Z.get("".concat(s,"/auth/v1/check"))}catch(e){if(e.response&&e.response.data.message)return a(e.response.data.message);return a(e.message)}})},4949:function(e,t,a){"use strict";a.d(t,{C:function(){return s},T:function(){return n}});var r=a(2462);let n=()=>(0,r.I0)(),s=r.v9},2697:function(e,t,a){"use strict";a.r(t),a.d(t,{Providers:function(){return f}});var r=a(9268),n=a(6393),s=a(4827),i=a(688),u=a(7659);let d=(0,n.createSlice)({name:"auth",initialState:{initialized:!1,authState:!1,loading:!1,error:null,success:!1},reducers:{setAuthState(e,t){console.log("setAuthState:",t.payload),e.authState=t.payload}},extraReducers:e=>{e.addCase(u.SA.pending,e=>{e.loading=!0,e.error=null}).addCase(u.SA.fulfilled,(e,t)=>{let{payload:a}=t;e.loading=!1,e.success=!0,e.initialized=!0,e.authState=!0}).addCase(u.SA.rejected,(e,t)=>{let{payload:a}=t;e.loading=!1,e.error=a,e.initialized=!0}).addCase(u.pH.pending,e=>{e.loading=!0,e.error=null}).addCase(u.pH.fulfilled,(e,t)=>{let{payload:a}=t;e.loading=!1,e.success=!0,e.authState=!0,e.initialized=!0}).addCase(u.pH.rejected,(e,t)=>{let{payload:a}=t;e.loading=!1,e.error=a,e.initialized=!0}).addCase(u.TX.pending,e=>{e.loading=!0,e.error=null}).addCase(u.TX.fulfilled,(e,t)=>{let{payload:a}=t;e.loading=!1,e.success=!0,e.authState=!1,e.initialized=!0}).addCase(u.TX.rejected,(e,t)=>{let{payload:a}=t;e.loading=!1,e.error=a,e.initialized=!0}).addCase(u.bV.pending,e=>{e.loading=!0,e.error=null}).addCase(u.bV.fulfilled,(e,t)=>{let{payload:a}=t;e.loading=!1,e.success=!0,e.authState=!0,e.initialized=!0}).addCase(u.bV.rejected,(e,t)=>{let{payload:a}=t;e.loading=!1,e.error=a,e.authState=!1,e.initialized=!0})}}),{setAuthState:o}=d.actions;var c=d.reducer,l=a(7010);let h=(0,n.configureStore)({reducer:{authSliceReducer:c,[s.db.reducerPath]:s.db.reducer,[i.R.reducerPath]:i.R.reducer},middleware:e=>e({}).concat([s.db.middleware,i.R.middleware]),devTools:!1});(0,l.setupListeners)(h.dispatch);var p=a(2462);function f(e){let{children:t}=e;return(0,r.jsx)(p.zt,{store:h,children:t})}},688:function(e,t,a){"use strict";a.d(t,{R:function(){return s},j:function(){return i}});var r=a(9764),n=a(1452);let s=(0,r.LC)({reducerPath:"membersApi",refetchOnFocus:!1,baseQuery:(0,n.ni)({baseUrl:"/api"}),tagTypes:["Member"],endpoints:e=>({getMembers:e.query({query:()=>"members/v1",transformResponse:e=>e.members,providesTags:["Member"]})})}),{useGetMembersQuery:i}=s},4827:function(e,t,a){"use strict";a.d(t,{Ub:function(){return u},db:function(){return s},q7:function(){return i},zD:function(){return d}});var r=a(9764),n=a(1452);let s=(0,r.LC)({reducerPath:"raidsApi",refetchOnFocus:!1,baseQuery:(0,n.ni)({baseUrl:"/api"}),tagTypes:["Raid"],endpoints:e=>({getRaids:e.query({query:()=>"raids/v1",transformResponse:e=>e.raids,providesTags:["Raid"]}),addNewRaid:e.mutation({query:e=>({url:"raids/v1",method:"POST",body:e,header:{"Content-type":"application/json; charset=UTF-8"}}),invalidatesTags:["Raid"]}),refreshRaids:e.mutation({query:()=>"raids/v1",transformResponse:e=>e.raids,invalidatesTags:["Raid"]})})}),{useGetRaidsQuery:i,useAddNewRaidMutation:u,useRefreshRaidsMutation:d}=s},3552:function(){}},function(e){e.O(0,[462,281,964,764,838,667,139,560],function(){return e(e.s=523)}),_N_E=e.O()}]);