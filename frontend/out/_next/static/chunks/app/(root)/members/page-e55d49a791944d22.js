(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{1947:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(431),i=t(6750),s=t(6006);let l=s.createContext(null);function o(){let e=s.useContext(l);return e}let c="function"==typeof Symbol&&Symbol.for;var u=c?Symbol.for("mui.nested"):"__THEME_NESTED__",a=t(9268),d=function(e){let{children:n,theme:t}=e,i=o(),c=s.useMemo(()=>{let e=null===i?t:function(e,n){if("function"==typeof n){let t=n(e);return t}return(0,r.Z)({},e,n)}(i,t);return null!=e&&(e[u]=null!==i),e},[t,i]);return(0,a.jsx)(l.Provider,{value:c,children:n})},h=t(7464),x=t(5396);let m={};function j(e,n,t,i=!1){return s.useMemo(()=>{let s=e&&n[e]||n;if("function"==typeof t){let l=t(s),o=e?(0,r.Z)({},n,{[e]:l}):l;return i?()=>o:o}return e?(0,r.Z)({},n,{[e]:t}):(0,r.Z)({},n,t)},[e,n,t,i])}var f=function(e){let{children:n,theme:t,themeId:r}=e,i=(0,x.Z)(m),s=o()||m,l=j(r,i,t),c=j(r,s,t,!0);return(0,a.jsx)(d,{theme:c,children:(0,a.jsx)(h.T.Provider,{value:l,children:n})})},Z=t(6356);let p=["theme"];function g(e){let{theme:n}=e,t=(0,i.Z)(e,p),s=n[Z.Z];return(0,a.jsx)(f,(0,r.Z)({},t,{themeId:s?Z.Z:void 0,theme:s||n}))}},7366:function(e,n,t){Promise.resolve().then(t.bind(t,7498))},7498:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var r=t(9268),i=t(6006),s=t(1771),l=t(4240),o=t(1387),c=t(3658),u=t(4274),a=t(8399),d=t(8992),h=t(6564),x=t(5991),m=t(5287),j=t(1947),f=t(9714),Z=t(1333),p=t(3210),g=t(8350),b=t(383),v=t(8843);function y(e){let{memberInfo:n}=e,[t,o]=i.useState(!1),c=[...n.raids].sort((e,n)=>e.date.localeCompare(n.date)),a=c.slice(-1)[0];return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(h.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,r.jsx)(u.Z,{align:"left",children:n.name}),(0,r.jsx)(u.Z,{align:"right",children:n.raids.length}),(0,r.jsx)(u.Z,{align:"right",children:"".concat(a.name," (").concat(a.date,")")}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(f.Z,{"aria-label":"expand row",size:"small",onClick:()=>o(!t),children:t?(0,r.jsx)(v.Z,{}):(0,r.jsx)(b.Z,{})})})]}),(0,r.jsx)(h.Z,{children:(0,r.jsx)(u.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,r.jsx)(Z.Z,{in:t,timeout:"auto",unmountOnExit:!0,children:(0,r.jsxs)(s.Z,{sx:{margin:1},children:[(0,r.jsx)(l.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Raids"}),(0,r.jsx)(p.Z,{children:c.map(e=>(0,r.jsxs)(g.ZP,{children:[e.name," - ",e.date]},e.id))}),(0,r.jsx)(l.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Aliases"}),(0,r.jsx)(p.Z,{})]})})})})]})}var w=t(688);let C=(0,m.Z)({components:{MuiTableCell:{styleOverrides:{root:{fontWeight:"bold"}}}}});function _(e){let{showAddButton:n}=e;return(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"center",padding:1},children:[(0,r.jsx)(l.Z,{variant:"h6",gutterBottom:!0,component:"div",children:"Members"}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"right"}})]})}function B(){return(0,r.jsx)(j.Z,{theme:C,children:(0,r.jsx)(d.Z,{children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(u.Z,{children:"Name"}),(0,r.jsx)(u.Z,{align:"right",children:"Raids"}),(0,r.jsx)(u.Z,{align:"right",children:"Last raid"}),(0,r.jsx)(u.Z,{})]})})})}function E(e){let{members:n}=e;return(0,r.jsx)(r.Fragment,{children:n.map(e=>(0,r.jsx)(y,{memberInfo:e},e.name))})}function M(e){let{message:n}=e;return(0,r.jsx)(h.Z,{sx:{"& > *":{borderBottom:"unset"}},children:(0,r.jsx)(u.Z,{scope:"row",align:"left",children:(0,r.jsxs)("p",{children:["Oh no, there was an error ",n]})})})}function S(){return(0,r.jsx)(h.Z,{sx:{"& > *":{borderBottom:"unset"}},children:(0,r.jsx)(u.Z,{scope:"row",align:"left",children:(0,r.jsx)("p",{children:"Loading..."})})})}function O(){let[e,n]=i.useState(!1),{isLoading:t,isFetching:s,data:l,error:u}=(0,w.j)(null);return(0,r.jsxs)(x.Z,{elevation:1,sx:{width:"60%"},children:[(0,r.jsx)(_,{showAddButton:!e&&!t&&!t&&!u}),(0,r.jsx)(a.Z,{component:x.Z,children:(0,r.jsxs)(o.Z,{"aria-label":"collapsible table",children:[(0,r.jsx)(B,{}),(0,r.jsx)(c.Z,{children:u?(0,r.jsx)(M,{message:JSON.stringify(u)}):t||s?(0,r.jsx)(S,{}):l?(0,r.jsx)(E,{members:l}):null})]})})]})}},688:function(e,n,t){"use strict";t.d(n,{R:function(){return s},j:function(){return l}});var r=t(9764),i=t(1452);let s=(0,r.LC)({reducerPath:"membersApi",refetchOnFocus:!1,baseQuery:(0,i.ni)({baseUrl:"/api"}),tagTypes:["Member"],endpoints:e=>({getMembers:e.query({query:()=>"members/v1",transformResponse:e=>e.members,providesTags:["Member"]})})}),{useGetMembersQuery:l}=s}},function(e){e.O(0,[462,281,620,764,895,38,667,139,560],function(){return e(e.s=7366)}),_N_E=e.O()}]);