(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{5598:function(e,n,t){Promise.resolve().then(t.bind(t,3380))},3380:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var r=t(9268),s=t(6006),i=t(1771),a=t(9714),o=t(5069),c=t(1797),u=t(5457),l=t(4957),d=t(5626),h=t(3224),g=t(4193),p=t(4240),x=t(1007),f=t(5793),j=t(601);let Z=(0,u.ZP)(x.Z,{shouldForwardProp:e=>"open"!==e&&"drawerWidth"!==e})(e=>{let{theme:n,open:t,drawerWidth:r}=e;return{transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...t&&{width:"calc(100% - ".concat(r,"px)"),marginLeft:"".concat(r,"px"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})}}});function m(e){let{drawerWidth:n,showMenuButton:t,onMenuButtonClick:s}=e;return(0,r.jsx)(Z,{position:"fixed",open:t,drawerWidth:n,children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(a.Z,{color:"inherit","aria-label":"open drawer",onClick:s,edge:"start",sx:{mr:2,...t&&{display:"none"}},children:(0,r.jsx)(j.Z,{})}),(0,r.jsx)(p.Z,{variant:"h6",noWrap:!0,component:"div",children:"L2 dkp"})]})})}var y=t(3210),P=t(8350),v=t(7052),w=t(5621),b=t(4835),C=t(2275),S=t(3402),k=t(6008),T=t(5846),E=t.n(T),R=t(332),A=t(4949);function L(e){let{children:n,...t}=e,s=(0,A.C)(e=>e.authSliceReducer.authState),i=(0,k.usePathname)();if(s)return(0,r.jsx)(E(),{...t,children:n});let a=i.slice(R.basePath.length);return R.publicPaths.includes(a)?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsx)(E(),{href:R.loginPageUri,...t,children:n})}var _=t(7659);function F(){return(0,r.jsx)(y.Z,{children:(0,r.jsx)(P.ZP,{disablePadding:!0,children:(0,r.jsx)(L,{href:"/auth/login",passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(C.Z,{})}),(0,r.jsx)(b.Z,{primary:"Log in"})]})})},"login")})}function O(){let e=(0,A.T)();return(0,k.useRouter)(),(0,r.jsx)(y.Z,{children:(0,r.jsx)(P.ZP,{disablePadding:!0,children:(0,r.jsxs)(v.Z,{onClick:()=>{e((0,_.TX)({}))},children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(C.Z,{})}),(0,r.jsx)(b.Z,{primary:"Log out"})]})},"logout")})}function B(){let e=(0,A.C)(e=>e.authSliceReducer.authState);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{children:[{title:"Raids",link:"/raids"},{title:"Members",link:"/members"}].map((e,n)=>{let{title:t,link:s}=e;return(0,r.jsx)(P.ZP,{disablePadding:!0,children:(0,r.jsx)(L,{href:s,passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(w.Z,{children:n%2==0?(0,r.jsx)(C.Z,{}):(0,r.jsx)(S.Z,{})}),(0,r.jsx)(b.Z,{primary:t})]})})},t)})}),(0,r.jsx)(c.Z,{}),e?(0,r.jsx)(O,{}):(0,r.jsx)(F,{})]})}let H=(0,u.ZP)("main",{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:t}=e;return{flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:"-".concat(240,"px"),...t&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0}}}),M=(0,u.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"}});function N(e){let{children:n}=e,t=(0,l.Z)(),[u,p]=s.useState(!0),x=()=>{p(!0)},f=()=>{p(!1)};return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,r.jsx)(d.ZP,{}),(0,r.jsx)(m,{drawerWidth:240,showMenuButton:u,onMenuButtonClick:x}),(0,r.jsxs)(o.ZP,{sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:u,children:[(0,r.jsx)(M,{children:(0,r.jsx)(a.Z,{onClick:f,children:"ltr"===t.direction?(0,r.jsx)(h.Z,{}):(0,r.jsx)(g.Z,{})})}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(B,{})]}),(0,r.jsxs)(H,{open:u,children:[(0,r.jsx)(M,{}),(0,r.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center"},children:n})]})]})})}},332:function(e,n,t){"use strict";t.r(n),t.d(n,{basePath:function(){return c},default:function(){return d},loginPageUri:function(){return u},publicPaths:function(){return l}});var r=t(9268),s=t(6006),i=t(6008),a=t(4949),o=t(7659);let c="/app",u="/auth/login",l=[u,"/auth/register"];function d(e){let{children:n}=e,t=(0,a.C)(e=>e.authSliceReducer.authState),d=(0,a.C)(e=>e.authSliceReducer.initialized),h=(0,a.T)(),g=(0,i.useRouter)(),p=(0,i.usePathname)(),x=(0,i.useSearchParams)(),[f,j]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{d||h((0,o.bV)())}),(0,s.useEffect)(()=>{d&&function(e){let n=p.slice(c.length);console.log("CHECK",n,l,f,l.includes(n)),t||l.includes(n)?(console.log("SECOND GATE"),j(!0)):(console.log("FIRST GATE",!t,!l.includes(n)),j(!1),g.push(u))}(0)},[p,x,d,t]),d)?f&&n:(0,r.jsx)("div",{children:"Loading..."})}},7659:function(e,n,t){"use strict";t.d(n,{SA:function(){return a},TX:function(){return c},bV:function(){return u},pH:function(){return o}});var r=t(4214),s=t(6393);let i="/api",a=(0,s.createAsyncThunk)("auth/register",async(e,n)=>{let{rejectWithValue:t}=n;try{await r.Z.post("".concat(i,"/auth/v1/register"),e,{headers:{"Content-Type":"application/json"}})}catch(e){if(e.response&&e.response.data.message)return t(e.response.data.message);return t(e.message)}}),o=(0,s.createAsyncThunk)("auth/login",async(e,n)=>{let{rejectWithValue:t}=n;try{await r.Z.post("".concat(i,"/auth/v1/login"),e,{headers:{"Content-Type":"application/json"}})}catch(e){if(e.response&&e.response.data.message)return t(e.response.data.message);return t(e.message)}}),c=(0,s.createAsyncThunk)("auth/logout",async(e,n)=>{let{rejectWithValue:t}=n;try{await r.Z.post("".concat(i,"/auth/v1/logout"),e,{headers:{"Content-Type":"application/json"}})}catch(e){if(e.response&&e.response.data.message)return t(e.response.data.message);return t(e.message)}}),u=(0,s.createAsyncThunk)("auth/check",async(e,n)=>{let{rejectWithValue:t}=n;try{await r.Z.get("".concat(i,"/auth/v1/check"))}catch(e){if(e.response&&e.response.data.message)return t(e.response.data.message);return t(e.message)}})},4949:function(e,n,t){"use strict";t.d(n,{C:function(){return i},T:function(){return s}});var r=t(2462);let s=()=>(0,r.I0)(),i=r.v9}},function(e){e.O(0,[462,281,632,964,657,895,73,667,139,560],function(){return e(e.s=5598)}),_N_E=e.O()}]);